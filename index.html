<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <title>å±¬æ–¼å¦³çš„å°ˆå±¬é©šå–œ</title>
    <style>
        body {
            font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background-color: #fce4ec;
            text-align: center;
            padding-top: 100px;
            color: #c2185b;
            overflow: hidden;
        }
        #passwordPage, #surprisePage {
            display: none;
        }
        h1 {
            font-size: 36px;
        }
        input, button {
            padding: 10px;
            font-size: 18px;
            margin-top: 10px;
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 2s forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
    </style>
</head>
<body>

<canvas id="snow"></canvas>

<div id="passwordPage">
    <h1>ğŸ æœ‰ä¸€ä»½å°é©šå–œåœ¨ç­‰å¦³</h1>
    <p>è«‹è¼¸å…¥ä¸€çµ„8ä½æ•¸å­—å¯†ç¢¼<br />(æç¤ºï¼šä¸€å€‹å±¬æ–¼å¦³çš„æ—¥å­)</p>
    <input type="password" id="passwordInput" placeholder="ä¾‹å¦‚19981101" />
    <br />
    <button onclick="checkPassword()">è§£é–</button>
    <p id="errorMsg" style="color:red;"></p>
</div>

<div id="surprisePage">
    <h1 class="fade-in">çµ¦ä»Šå¤©çš„å¦³ ğŸ’–</h1>
    <p id="quote" class="fade-in"></p>
    <audio id="bgMusic" src="music.mp3" autoplay></audio>
</div>

<script>
    // å¯†ç¢¼æª¢æŸ¥
    document.getElementById("passwordPage").style.display = "block";
    function checkPassword() {
        var pwd = document.getElementById("passwordInput").value;
        if (pwd === "19981101") {
            document.getElementById("passwordPage").style.display = "none";
            document.getElementById("surprisePage").style.display = "block";
            playMusic();
            showQuote();
        } else {
            document.getElementById("errorMsg").innerText = "å¯†ç¢¼éŒ¯å›‰ï¼Œå†æƒ³æƒ³çœ‹å–”ï¼";
        }
    }

    // éš¨æ©ŸèªéŒ„
    const quotes = [
        "æœ‰æ™‚å€™ï¼Œå¦³çš„ä¸ç¶“æ„åŠªåŠ›ï¼Œå°±æ˜¯æˆ‘æœ€æ·±åˆ»çš„æ„Ÿå‹•ã€‚",
        "é€™ä¸–ç•Œå¾ˆäº‚ï¼Œä½†æˆ‘åªæƒ³æˆç‚ºå¦³çš„å¹³éœè§’è½ã€‚",
        "å°å¤œçš„å¦³è¾›è‹¦äº†ï¼Œé¡˜æˆ‘çš„æ–‡å­—æˆç‚ºå¦³çš„å°ç¢ºå¹¸ã€‚",
        "ä¸ç®¡ä»Šå¤©æ€æ¨£ï¼Œéƒ½æƒ³è®“å¦³çŸ¥é“ï¼Œæœ‰äººé»˜é»˜åœ¨ä¹å¦³ã€‚",
        "æ¯æ¬¡å¦³ç¬‘ï¼Œæˆ‘çš„ä¸–ç•Œéƒ½è®Šäº®ä¸€é»ã€‚",
        "æˆ–è¨±é€™æ¨£çš„é—œå¿ƒå¾ˆå‚»ï¼Œä½†å°å¦³çš„åœ¨æ„å¾ä¾†æ²’æ‰“éæŠ˜æ‰£ã€‚",
        "é¡˜é€™ä¸€åˆ»ï¼Œå¦³æ„Ÿå—åˆ°çœŸå¿ƒèˆ‡æº«æš–ã€‚"
    ];
    let lastQuoteIndex = -1;

    function showQuote() {
        let index;
        do {
            index = Math.floor(Math.random() * quotes.length);
        } while (index === lastQuoteIndex);
        lastQuoteIndex = index;
        document.getElementById("quote").innerText = quotes[index];
    }

    // æ’­éŸ³æ¨‚ + ç•¶éŸ³æ¨‚çµæŸæ›èªéŒ„é‡æ’­
    function playMusic() {
        const music = document.getElementById("bgMusic");
        music.play();
        music.onended = function() {
            showQuote();
            music.currentTime = 0;
            music.play();
        };
    }

    // é›ªèŠ±å‹•ç•«
    const canvas = document.getElementById('snow');
    const ctx = canvas.getContext('2d');
    let width, height;
    let snowflakes = [];

    function initSnow() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        snowflakes = [];
        for (let i = 0; i < 100; i++) {
            snowflakes.push({
                x: Math.random() * width,
                y: Math.random() * height,
                r: Math.random() * 4 + 1,
                d: Math.random() * 1 + 0.5
            });
        }
    }

    function drawSnow() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = "white";
        ctx.beginPath();
        snowflakes.forEach(flake => {
            ctx.moveTo(flake.x, flake.y);
            ctx.arc(flake.x, flake.y, flake.r, 0, Math.PI * 2);
        });
        ctx.fill();
        moveSnow();
    }

    function moveSnow() {
        snowflakes.forEach(flake => {
            flake.y += flake.d;
            flake.x += Math.sin(flake.y * 0.01);
            if (flake.y > height) {
                flake.y = -flake.r;
                flake.x = Math.random() * width;
            }
        });
    }

    window.addEventListener('resize', initSnow);
    initSnow();
    setInterval(drawSnow, 33);
</script>

</body>
</html>
